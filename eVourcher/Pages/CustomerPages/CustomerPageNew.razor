@page "/customernew"
@using eVourcher.Services;
@using System.Linq;
@using Microsoft.AspNetCore.Components;
@using System;
@using System.Collections.Generic;
@using System.Threading.Tasks;
@using eVoucher.Pages.Campaigns.Components;


@inject ICampaignService CampaignService;



<Div Class="evoucher-header customer-header">
    <Row Display="Display.Flex">
        

        <Column ColumnSize="ColumnSize.Is6" Class="customer-navigation">
            <Buttons Role="ButtonsRole.Toolbar">
                <Button Color="Color.Info">Đồ ăn</Button>
                <Button Color="Color.Info">Thức uống</Button>
                <Button Color="Color.Info">Thể thao</Button>
                <Button Color="Color.Info">Công nghệ</Button>
            </Buttons>
        </Column>
    </Row>
    <Row Class="customer-content">
        @for (int i = 0; i < 3; i++)
        {
            <CardDeck>
                <Card>
                    <CardImage Source="./Images/Thecoffeehouse.jpeg" Alt="The coffeehouse đường D9"></CardImage>
                    <CardBody>
                        <CardTitle Size="5">The Coffeehouse</CardTitle>
                        @* <CardText>
                    This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.
                    </CardText>*@
                        <Button Color="Color.Primary">Giảm món</Button>
                    </CardBody>
                </Card>
                <Card>
                    <CardImage Source="./Images/BanhXeo.jpg" Alt="Banh xèo cô Năm"></CardImage>
                    <CardBody>
                        <CardTitle Size="5">Cô Năm bánh xèo</CardTitle>
                        @* <CardText>
                    This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.
                    </CardText>*@
                        <Button Color="Color.Primary">Button</Button>
                    </CardBody>
                </Card>
                <Card>
                    <CardImage Source="./Images/KhachSan.jpg" Alt="Chuỗi khách sạn 5 sao"></CardImage>
                    <CardBody>
                        <CardTitle Size="5">Chuỗi nhà hàng khách sạn luxury</CardTitle>
                        @* <CardText>
                    This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.
                    </CardText>*@
                        <Button Color="Color.Primary">Giảm món</Button>
                    </CardBody>
                </Card>

            </CardDeck>
        }
        @for (int i = 0; i < 3; i++)
        {
            <CardDeck>
                <Card>
                    <CardImage Source="./Images/RauMa.jpg" Alt="Chuỗi cung ứng bán lẻ rau má"></CardImage>
                    <CardBody>
                        <CardTitle Size="5">Rau má 9999</CardTitle>
                        @* <CardText>
                    This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.
                    </CardText>*@
                        <Button Color="Color.Primary">Giảm giá cho thẻ visa</Button>
                    </CardBody>
                </Card>

                <Card>
                    <CardImage Source="./Images/Maytinh.jpg" Alt="Bàn Phím cơ đẹp"></CardImage>
                    <CardBody>
                        <CardTitle Size="5">Bàn phím cơ</CardTitle>
                        @*<CardText>
                    This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.
                    </CardText>*@
                        <Button Color="Color.Primary">Giảm giá cho thẻ visa</Button>
                    </CardBody>
                </Card>
                <Card>
                    <CardImage Source="./Images/BanhKhoc.jpg" Alt="Bánh khọc cô Ba"></CardImage>
                    <CardBody>
                        <CardTitle Size="5">Cô Ba bánh khọc</CardTitle>
                        @*<CardText>
                    This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.
                    </CardText>*@
                        <Button Color="Color.Primary">Giảm giá cho thẻ visa</Button>
                    </CardBody>
                </Card>
            </CardDeck>

            
            <DataGrid TItem="Campaign"
                  Data="@Campaigns"
                  @bind-SelectedRow="@selectedCampaign"
                  Responsive
                  PageSize="20"
                  ShowPager="true"
                  Hoverable="true"
                  Striped="true"
                  Filterable>
            <DataGridCommandColumn />
            <DataGridColumn Field="@nameof(Campaign.Index)" Caption="#" Sortable="false" />
            <DataGridColumn Field="@nameof(Campaign.Name)" Caption="Campaign Name" Editable />
            <DataGridColumn Field="@nameof(Campaign.Description)" Caption="Description" Editable />
            <DataGridColumn Field="@nameof(Campaign.StartedDate)" Caption="Started Date" Editable />
            <DataGridColumn Field="@nameof(Campaign.ExpiredDate)" Caption="Expired Date" Editable />
        </DataGrid>
        }
    </Row>
</Div>


@code {
    private IList<string> Locations = new List<string> { "Hồ Chí Minh", "Hà Nội", "Đà Nẵng" };
    private IList<Campaign> CampaignForFoods { get; set; }

    protected override async Task OnInitializedAsync()
    {
        CampaignForFoods = await CampaignService.GetCampaigns();
        StateHasChanged();
    }

    private IList<Campaign> Campaigns { get; set; } = new List<Campaign>();
    private Campaign selectedCampaign;
}